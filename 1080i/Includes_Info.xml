<includes>
    <include name="Common-Clock">
        <control type="group">
            <animation effect="fade" start="0" end="100" delay="250" time="150" condition="Window.IsActive(home) + StringCompare(Skin.String(homescreen.style),panel) + ![Control.HasFocus(82) | Control.HasFocus(83) | Control.HasFocus(84)]">Conditional</animation>
            <animation type="WindowOpen" condition="Window.IsActive(loginscreen) | [Window.IsActive(startup) + !Window.Previous(loginscreen)] | Window.Previous(fullscreenvideo) | Window.Previous(visualisation) | Window.Previous(slideshow)" reversible="false">
                <effect type="fade" start="0" end="100" time="300" tween="sine" easing="inout" />
            </animation>
            <animation type="WindowClose" condition="Window.Next(fullscreenvideo) | Window.Next(visualisation) | Window.Next(slideshow)" reversible="false">
                <effect type="fade" start="100" end="0" time="300" tween="sine" easing="inout" />
            </animation>
            <control type="group">
                <control type="group">
					<posy>904</posy>
					<posx>285r</posx>
					<!-- Hide weather somewhere to make sure it loads for widgets -->
					<control type="image">
						<posx>0</posx>
						<posy>0</posy>
						<width>1</width>
						<height>1</height>
						<texture>weather/small/$INFO[Weather.FanartCode].png</texture>
						<animation effect="fade" end="0" condition="true">Conditional</animation>
					</control>
					<control type="label">
						<description>Clock label</description>
						<posx>15</posx>
						<posy>60</posy>
						<width>250</width>
						<height>78</height>
						<label>$INFO[System.Time(hh)]</label>
						<font>Font-Simple-Clock</font>
						<textcolor>Mod_Tags</textcolor>
						<align>right</align>
						<scroll>false</scroll>
					</control>
					<control type="label">
						<description>Clock label</description>
						<posx>70</posx>
						<posy>58</posy>
						<width>250</width>
						<height>78</height>
						<label>$INFO[System.Time(mm)]</label>
						<font>Font-Simple-Clock-Minutes</font>
						<textcolor>Mod_Tags</textcolor>
						<align>right</align>
						<aligny>top</aligny>
						<scroll>false</scroll>
					</control>
					<control type="label">
						<description>Day label</description>
						<posx>82</posx>
						<posy>43</posy>
						<width>300</width>
						<height>78</height>
						<label>$INFO[System.Date(DDD)]</label>
						<font>Font-OSD-Clock</font>
						<textcolor>Mod_Tags_Light</textcolor>
						<align>left</align>
						<scroll>false</scroll>
					</control>
					<control type="label">
						<description>Day label</description>
						<posx>82</posx>
						<posy>73</posy>
						<width>300</width>
						<height>78</height>
						<label>$INFO[System.Date(MMM dd)]</label>
						<font>Font-OSD-Clock</font>
						<textcolor>Mod_Tags</textcolor>
						<align>left</align>
						<scroll>false</scroll>
					</control>
				</control>
            </control>
            <control type="group">
                <visible>PVR.IsRecording</visible>
                <animation effect="slide" end="-50" time="300" tween="sine" easing="inout" condition="Window.IsActive(mutebug)">Conditional</animation>
                <include>visiblehidefadeinfo</include>
                <control type="image">
                    <posx>70r</posx>
					<posy>70r</posy>
					<width>90</width>
					<height>90</height>
                    <texture>windows/pvr/recording-info.png</texture>
                </control>
                <control type="image">
                    <posx>70r</posx>
					<posy>70r</posy>
					<width>90</width>
					<height>90</height>
                    <texture>windows/pvr/recording-info-pulse.png</texture>
                    <animation effect="fade" start="65" end="100" time="750" tween="sine" easing="in" pulse="true" condition="true">Conditional</animation>
                </control>
            </control>
            <control type="image">
                <posx>70r</posx>
                <posy>70r</posy>
                <width>90</width>
                <height>90</height>
                <texture>windows/pvr/timer.png</texture>
                <animation effect="slide" end="-50" time="300" tween="sine" easing="inout" condition="Window.IsActive(mutebug)">Conditional</animation>
                <include>visiblehidefadeinfo</include>
                <visible>!PVR.IsRecording + PVR.HasTimer</visible>
                <colordiffuse>$VAR[simplehome.normal]</colordiffuse>
            </control>
            <control type="image">
                <description>Mute</description>
                <posx>70r</posx>
                <posy>70r</posy>
                <width>90</width>
                <height>90</height>
                <texture>overlays/volume/muted.png</texture>
                <include>visiblehidefadeinfo</include>
                <visible>Window.IsActive(mutebug)</visible>
                <colordiffuse>$VAR[simplehome.dark]</colordiffuse>
            </control>
        </control>
    </include>
    
    <variable name="OptionsButtonTexture">
        <value condition="Window.IsActive(programs) + [Control.IsVisible(52) | Control.IsVisible(53) | Control.IsVisible(60) | Control.IsVisible(61) | [Control.IsVisible(50) + substring(Container.FolderPath,plugin://plugin.program.advanced.launcher/,left)]]">buttons/options-right.png</value>
        <value condition="Window.IsActive(programs) + [Control.IsVisible(56) | Control.IsVisible(57) | Control.IsVisible(58)]">buttons/options-down.png</value>
        <value condition="Control.IsVisible(50) | Control.IsVisible(52) | Control.IsVisible(60) | Control.IsVisible(500) | Control.IsVisible(501) | Control.IsVisible(502)">buttons/options-leftright.png</value>
        <value condition="Control.IsVisible(53) | Control.IsVisible(54) | Control.IsVisible(55) | Window.IsActive(weather)">buttons/options-updown.png</value>
        <value condition="Window.IsActive(script-NextAired-TVGuide.xml)">buttons/options-left.png</value>
        <value>buttons/options_nofo.png</value>
    </variable>
    
    <!-- Options Button -->
    <include name="Common-Options">
        <control type="group">
        	<visible allowhiddenfocus="true">false</visible>
            <description>Options Buttons</description>
            <include>Animation_OptionsButton</include>
            <posx>276</posx>
            <posy>950</posy>
            <animation effect="slide" start="0" end="-204" time="0" condition="Skin.HasSetting(HideShutdownButton)">Conditional</animation>
            <control type="button" id="9010">
                <description>Options Button</description>
                <width>100</width>
                <height>100</height>
                <onleft>50</onleft>
                <onright>50</onright>
                <onup>50</onup>
                <ondown>50</ondown>
                <texturefocus>-</texturefocus>
                <texturenofocus>-</texturenofocus>
                <onfocus>SetFocus(9111)</onfocus>
                <visible allowhiddenfocus="true">false</visible>
            </control>
            <control type="image">
                <description>Options Button texture</description>
                <width>100</width>
                <height>100</height>
                <texture>$VAR[OptionsButtonTexture]</texture>
                <include>homebuttonsanim3</include>
                <colordiffuse>Mod_Tags</colordiffuse>
                <visible>!Skin.HasSetting(KioskMode) + Skin.HasSetting(hide.infotags) + !Window.IsVisible(movieinformation) + !Window.IsVisible(script-Actors-DialogInfo.xml) + !Window.IsVisible(script-Actors-DialogVideoInfo.xml) + !Window.IsVisible(addoninformation) + !Window.IsVisible(musicinformation) + !Window.IsVisible(playercontrols) + !Window.IsVisible(yesnodialog) + !Window.IsVisible(progressdialog) + !Window.IsVisible(virtualkeyboard) + !Window.IsVisible(numericinput) + !Window.IsVisible(filebrowser) + !Window.IsVisible(networksetup) + !Window.IsVisible(mediasource) + !Window.IsVisible(ProfileSettings) + !Window.IsVisible(LockSettings) + !Window.IsVisible(contentsettings) + !Window.IsVisible(songinformation) + !Window.IsVisible(addonsettings) + !Window.IsVisible(textviewer) + !Window.IsVisible(selectdialog) + !Window.IsVisible(okdialog) + !Window.IsVisible(filestackingdialog) + !Window.IsVisible(1122) + !Window.IsVisible(smartplaylisteditor) + !Window.IsVisible(pvrgroupmanager) + !Window.IsVisible(pvrtimersetting) + !Window.IsVisible(pvrguidesearch) + !Window.IsVisible(pvrchannelmanager) + !Window.IsVisible(pvrguideinfo) + !Window.IsVisible(pvrrecordinginfo) + !Window.IsActive(favourites)</visible>
            </control>
            <control type="label">
                <description>Options Label</description>
                <posx>85</posx>
                <posy>0</posy>
                <width>180</width>
                <height>100</height>
                <label>$LOCALIZE[41600]</label>
                <font>Font-Alaska-S29-BL</font>
                <textcolor>Mod_Tags</textcolor>
                <shadowcolor>Mod_Shadow</shadowcolor>
                <include>homebuttonsanim4</include>
                <visible>!Skin.HasSetting(KioskMode) + Skin.HasSetting(hide.infotags) + !Window.IsVisible(movieinformation) + !Window.IsVisible(script-Actors-DialogInfo.xml) + !Window.IsVisible(script-Actors-DialogVideoInfo.xml) + !Window.IsVisible(addoninformation) + !Window.IsVisible(musicinformation) + !Window.IsVisible(playercontrols) + !Window.IsVisible(yesnodialog) + !Window.IsVisible(progressdialog) + !Window.IsVisible(virtualkeyboard) + !Window.IsVisible(numericinput) + !Window.IsVisible(filebrowser) + !Window.IsVisible(networksetup) + !Window.IsVisible(mediasource) + !Window.IsVisible(ProfileSettings) + !Window.IsVisible(LockSettings) + !Window.IsVisible(contentsettings) + !Window.IsVisible(songinformation) + !Window.IsVisible(addonsettings) + !Window.IsVisible(textviewer) + !Window.IsVisible(selectdialog) + !Window.IsVisible(okdialog) + !Window.IsVisible(filestackingdialog) + !Window.IsVisible(1122) + !Window.IsVisible(smartplaylisteditor) + !Window.IsVisible(pvrgroupmanager) + !Window.IsVisible(pvrtimersetting) + !Window.IsVisible(pvrguidesearch) + !Window.IsVisible(pvrchannelmanager) + !Window.IsVisible(pvrguideinfo) + !Window.IsVisible(pvrrecordinginfo) + !Window.IsActive(favourites)</visible>
            </control>
        </control>
    </include>

    <!-- Shutdown Label -->
    <include name="Common-ShutdownLabel">
        <control type="group">
        	<visible>false</visible>
            <include>Animation_ShutdownButton</include>
            <control type="image">
                <posx>72</posx>
                <posy>950</posy>
                <width>100</width>
                <height>100</height>
                <texture>buttons/shutdown_nofo.png</texture>
                <include>homebuttonsanim</include>
                <colordiffuse>Mod_Tags</colordiffuse>
                <visible>Skin.HasSetting(hide.infotags) + !Window.IsVisible(movieinformation)</visible>
            </control>
            <control type="label">
                <posx>157</posx>
                <posy>950</posy>
                <width>180</width>
                <height>100</height>
                <label>$LOCALIZE[41507]</label>
                <font>Font-Alaska-S29-BL</font>
                <textcolor>Mod_Tags</textcolor>
                <shadowcolor>Mod_Shadow</shadowcolor>
                <include>homebuttonsanim2</include>
                <visible>Skin.HasSetting(hide.infotags) + !Window.IsVisible(movieinformation)</visible>
            </control>
        </control>
    </include>

    <!-- Now Playing -->
    <variable name="NowPlayingTitle">
        <value condition="Player.HasVideo + !Pvr.IsPlayingTv">$INFO[VideoPlayer.Title]</value>
        <value condition="Player.HasVideo + Pvr.IsPlayingTv">$INFO[VideoPlayer.ChannelName,,: ]$INFO[VideoPlayer.Title]</value>
        <value>$INFO[MusicPlayer.Title]</value>
    </variable>
    
    <variable name="NowPlayingSubTitle">
        <value condition="Player.HasVideo + !Pvr.IsPlayingTv">$INFO[Player.FinishTime,$LOCALIZE[41371] ,]</value>
        <value condition="Player.HasVideo + Pvr.IsPlayingTv">$INFO[VideoPlayer.NextTitle,$LOCALIZE[19031]: ,]$INFO[VideoPlayer.NextStartTime, (,)]</value>
        <value condition="Player.HasAudio + !Pvr.IsPlayingRadio">$INFO[MusicPlayer.Artist]</value>
        <value condition="Player.HasAudio + Pvr.IsPlayingRadio">$INFO[MusicPlayer.ChannelName]</value>
    </variable>
    
    <variable name="NowPlayingColor">
    	<value condition="StringCompare(Skin.String(homescreen.style),simple) + Window.IsActive(home)">mod-infotags-d</value>
    	<value>Mod_Tags_Dark</value>
    </variable>
    <variable name="NowPlayingColorLight">
    	<value condition="StringCompare(Skin.String(homescreen.style),simple) + Window.IsActive(home)">mod-infotags-l</value>
    	<value>Mod_Tags_Light</value>
    </variable>
    
    <include name="Common-NowPlaying">
        <control type="group">
            <posx>1741</posx>
            <posy>26</posy>
            <visible>Player.HasMedia + IsEmpty(Window(videos).property(TvTunesIsAlive)) + !Window.IsActive(visualisation)</visible>
            <include>BannerListInfoAnimation</include>
            <animation effect="slide" end="-76" time="300" tween="sine" easing="inout" condition="Window.IsActive(busydialog)">Conditional</animation>
            <animation type="Conditional" condition="[Window.IsActive(infodialog) | Window.IsActive(extendedprogressdialog) | Window.IsActive(volumebar)]">
                <effect type="fade" start="100" end="8" tween="sine" easing="out" time="300" />
                <effect type="zoom" start="100" end="50" center="1745,100" tween="sine" easing="inout" time="300" />
            </animation>
            <!--<control type="group">
				<posy>19</posy>
				<posx>175r</posx>
				<visible>Player.HasAudio + Window.IsVisible(home) + StringCompare(Skin.String(homescreen.style),simple)</visible>
				<control type="image">
					<posx>12</posx>
					<posy>12</posy>
					<width>86</width>
					<height>86</height>
					<texture diffuse="views/newgloss/whitepanel.png">$INFO[MusicPlayer.Cover]</texture>
				</control>
			</control>-->
            <control type="group">
            	<!--<animation effect="slide" end="-90" time="300" condition="Player.HasAudio + Window.IsVisible(home) + StringCompare(Skin.String(homescreen.style),simple)">Conditional</animation>-->
                <control type="label">
                    <description>Title label</description>
                    <posx>0</posx>
                    <posy>0</posy>
                    <width>771</width>
                    <height>120</height>
                    <label>$VAR[NowPlayingTitle]</label>
                    <font>Font-Alaska-S36-BL</font>
                    <textcolor>$VAR[NowPlayingColor]</textcolor>
                    <scroll>false</scroll>
                    <align>right</align>
                    <animation effect="slide" end="0,16" time="300" tween="sine" easing="inout" condition="IsEmpty(Control.GetLabel(934))">Conditional</animation>
                </control>
                <control type="label" id="934">
                    <description>Sub label</description>
                    <posx>0</posx>
                    <posy>32</posy>
                    <width>771</width>
                    <height>120</height>
                    <label>$VAR[NowPlayingSubTitle]</label>
                    <font>Font-Alaska-S28-L</font>
                    <textcolor>$VAR[NowPlayingColor]</textcolor>
                    <scroll>false</scroll>
                    <align>right</align>
                </control>
    			<control type="image">
    			    <description>Now Playing - Paused</description>
    			    <posx>0</posx>
    			    <posy>25</posy>
    			    <width>100</width>
    			    <height>100</height>
    			    <texture>overlays/nowplaying/pause.png</texture>
    			    <aspectratio align="center">keep</aspectratio>
    			    <animation type="Visible">
    			        <effect type="fade" start="0" end="100" tween="sine" easing="inout" time="300" />
    			        <effect type="zoom" start="50" end="100" center="50,77" tween="sine" easing="inout" time="300" />
    			    </animation>
    			    <animation type="Hidden">
    			        <effect type="fade" start="100" end="0" tween="sine" easing="inout" time="300" />
    			        <effect type="zoom" start="100" end="50" center="50,77" tween="sine" easing="inout" time="300" />
    			    </animation>
    			    <visible>Player.Paused</visible>
    			    <colordiffuse>$VAR[NowPlayingColor]</colordiffuse>
    			</control>
    			<control type="image">
    			    <description>Now Playing - Play</description>
    			    <posx>0</posx>
    			    <posy>25</posy>
    			    <width>100</width>
    			    <height>100</height>
    			    <texture>overlays/nowplaying/play.png</texture>
    			    <aspectratio align="center">keep</aspectratio>
    			    <animation type="Visible">
    			        <effect type="fade" start="0" end="100" tween="sine" easing="inout" time="300" />
    			        <effect type="zoom" start="50" end="100" center="50,77" tween="sine" easing="inout" time="300" />
    			    </animation>
    			    <animation type="Hidden">
    			        <effect type="fade" start="100" end="0" tween="sine" easing="inout" time="300" />
    			        <effect type="zoom" start="100" end="50" center="50,77" tween="sine" easing="inout" time="300" />
    			    </animation>
    			    <visible>!Player.Paused</visible>
    			    <colordiffuse>$VAR[NowPlayingColor]</colordiffuse>
    			</control>
    			<control type="image">
    			    <posx>0</posx>
    			    <posy>25</posy>
    			    <width>100</width>
    			    <height>100</height>
    			    <texture>dialogs/extendedprogress/loading-back.png</texture>
    			    <aspectratio align="center">keep</aspectratio>
    			</control>
    			<control type="progress" id="933">
    			    <texturebg>-</texturebg>
    				<lefttexture>-</lefttexture>
    				<midtexture>-</midtexture>
    				<righttexture>-</righttexture>
    				<info>Player.Progress</info>
    				<visible>false</visible>
    			</control>
    			<control type="image">
    			    <posx>0</posx>
    			    <posy>25</posy>
    			    <width>100</width>
    			    <height>100</height>
    			    <texture>$INFO[Control.GetLabel(933),overlays/nowplaying/progress/p,.png]</texture>
    			    <visible>!IsEmpty(Player.Duration)</visible>
    			    <aspectratio align="center">keep</aspectratio>
    			</control>
    			<control type="image">
    			    <description>Loading indicator</description>
    			    <posx>0</posx>
    			    <posy>25</posy>
    			    <width>100</width>
    			    <height>100</height>
    			    <texture>dialogs/search/loading.png</texture>
    			    <animation effect="rotate" center="auto" start="360" end="0" time="1500" loop="true" condition="!Player.Paused">Conditional</animation>
    			    <visible>IsEmpty(Player.Duration)</visible>
    			    <aspectratio align="center">keep</aspectratio>
    			</control>
            </control>
        </control>
    </include>

    <include name="Common-Home-Info">
		<control type="group">        
			<animation effect="slide" start="0" end="0,500" time="250" condition="StringCompare(Skin.String(homescreen.style),simple)">WindowClose</animation>
			<animation effect="slide" start="0" end="0,500" time="250" condition="StringCompare(Skin.String(homescreen.style),simple)">Hidden</animation>
			<include>Common-Clock</include>
		</control>
        <include>Common-NowPlaying</include>
    </include>
    
    <include name="Common-Info">
        <include>Common-ShutdownLabel</include>
        <include condition="!Skin.HasSetting(KioskMode)">Common-Options</include>
        <include>Common-Clock</include>
        <include>Common-NowPlaying</include>
    </include>
    
    <include name="Common-Info-NoOptions">
        <include>Common-ShutdownLabel</include>
        <include>Common-Clock</include>
        <include>Common-NowPlaying</include>
    </include>

</includes>